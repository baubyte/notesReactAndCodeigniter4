(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(19),r=a.n(n),i=a(3),l=a(4),o=a(21),d=a(5),j=a.n(d),u=a(0),b=function(e){var t=e.notes,a=e.setNotes,s={id:"",title:"",body:""},n={title:"",body:""},r=Object(c.useState)(n),d=Object(i.a)(r,2),b=d[0],h=d[1],O=Object(c.useState)(s),m=Object(i.a)(O,2),p=m[0],x=m[1];return Object(u.jsx)("div",{className:"has-background-success-light p-3",children:Object(u.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),""!==p.title.trim()&&""!==p.body.trim()&&j.a.post("http://localhost/api/notes",p).then((function(e){a([].concat(Object(o.a)(t),[e.data.data])),x(s),h(n)})).catch((function(e){h(e.response.data.messages)}))}(e)},children:[Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",htmlFor:"title",children:"Titulo"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"title",value:p.title,type:"text",onChange:function(e){return x(Object(l.a)(Object(l.a)({},p),{},{title:e.target.value}))}})}),Object(u.jsx)("span",{className:"help is-danger",children:b.title})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",htmlFor:"body",children:"Cuerpo"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("textarea",{className:"textarea",id:"body",value:p.body,type:"text",onChange:function(e){return x(Object(l.a)(Object(l.a)({},p),{},{body:e.target.value}))}})}),Object(u.jsx)("span",{className:"help is-danger",children:b.body})]}),Object(u.jsx)("button",{className:"button is-success",children:"Agregar Nota"})]})})},h=a(10),O=a.n(h),m=a(20),p=function(e){var t=e.note,a=e.deleteNote,s=e.updateNote,n=e.setError,r=e.error,o=e.initialError,d=Object(c.useState)(!1),j=Object(i.a)(d,2),b=j[0],h=j[1],p=Object(c.useState)(t),x=Object(i.a)(p,2),f=x[0],N=x[1],v=function(){var e=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s(f);case 3:if(!e.sent){e.next=5;break}h(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"column is-one-quarter",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("header",{className:"card-header",children:Object(u.jsxs)("p",{className:"card-header-title",children:["ID: ",t.id]})}),Object(u.jsxs)("div",{className:"card-content",children:[b?Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",htmlFor:"title-card",children:"Titulo"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{name:"title-card",className:"input",type:"text",value:f.title,onChange:function(e){return N(Object(l.a)(Object(l.a)({},f),{},{title:e.target.value}))}})}),Object(u.jsx)("span",{className:"help is-danger",children:r.title})]}):Object(u.jsxs)("div",{children:[" Titulo: ",t.title," "]}),b?Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",htmlFor:"bodyCard",children:"Cuerpo"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("textarea",{name:"bodyCard",className:"textarea",type:"text",value:f.body,onChange:function(e){return N(Object(l.a)(Object(l.a)({},f),{},{body:e.target.value}))}})}),Object(u.jsx)("span",{className:"help is-danger",children:r.body})]}):Object(u.jsxs)("div",{children:[" Cuerpo: ",t.body]})]}),Object(u.jsxs)("footer",{className:"card-footer",children:[Object(u.jsx)("a",{href:"/",onClick:function(e){return function(e){e.preventDefault(),h(!b),n(o),N(t)}(e)},className:"card-footer-item",children:b?"Cancelar":"Editar"}),b?Object(u.jsx)("a",{href:"/",onClick:function(e){return v(e)},className:"card-footer-item",children:"Guardar"}):Object(u.jsx)("a",{href:"/",onClick:function(e){return a(t.id,e)},className:"card-footer-item",children:"Eliminar"})]})]})})},x=function(e){var t=e.notes,a=e.setNotes,s={title:"",body:""},n=Object(c.useState)(s),r=Object(i.a)(n,2),l=r[0],o=r[1],d=function(e,c){var s=t.filter((function(t){return e!==t.id}));c.preventDefault(),j.a.delete("http://localhost/api/notes/".concat(e)).then((function(e){alert(e.data.messages),a(s)})).catch((function(e){alert(e.response.data.messages)}))},b=function(e){return j.a.put("http://localhost/api/notes/".concat(e.id),e).then((function(e){var c=e.data.data.id;return a(t.map((function(t){return t.id===c?e.data.data:t}))),o(s),!0})).catch((function(e){return o(e.response.data.messages),!1}))};return t.length>0?Object(u.jsx)("div",{className:"columns is-multiline",children:t.map((function(e){return Object(u.jsx)(p,{note:e,deleteNote:d,updateNote:b,setError:o,error:l,initialError:s},e.id)}))}):Object(u.jsx)("p",{className:"has-text-centered subtitle",children:"No existen Notas"})};function f(){Object(c.useEffect)((function(){j.a.get("http://localhost/api/notes").then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]);var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"title has-text-centered mt-5",children:"Listado de Notas"}),Object(u.jsx)(x,{notes:a,setNotes:s}),Object(u.jsx)(b,{notes:a,setNotes:s})]})}a(47);r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.644316cc.chunk.js.map